@typeparam T where T : class, new()
@inherits ListDetailBase<T> 

<div class="container container-body float-start">
	<div class="row">
		<div class="col-sm">
            @if(dynamicModel != null)
            {
                <table class="table">
                    <thead>
                        <tr>
                            <th>
                                <button type="button" class="btn btn-small borderless btn-outline-primary fas fa-undo float-left" @onclick="() => NewAsync()"/>
                                <button type="button" class="btn btn-small borderless btn-outline-danger fas fa-minus float-left" @onclick="() => RemoveAsync(dynamicModel)"/>
                                <button type="button" class="btn btn-small borderless btn-outline-primary fas fa-arrow-right float-end" @onclick="() => AddAsync(dynamicModel)"/>                                
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach(var rootContainer in dynamicModel.RootContainers)
                        {
                            <tr>
                                <td>
                                    <DynamicComponent Type="rootContainer.DynamicComponent" Parameters="rootContainer.Parameters" />   
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
		</div>
		<div class="col-sm">
            @if (dynamicList != null)
            {
                <table class="table table-striped">
                    <thead>
                        <tr>
                            @foreach (var column in dynamicList.ConfigItems)
                            {
                                <th>@column.Label</th>
                            }
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var listIitem in dynamicList.DynamicListItems)
                        {
                            <tr>
                                @foreach (var column in dynamicList.ConfigItems)
                                {
                                    <td>
                                        @dynamicList.GetValue(listIitem.Model, column.PropertyName)
                                    </td>
                                }
                                <td>
                                    <button type="button" class="btn btn-small borderless btn-outline-primary fas fa-edit" @onclick="() => EditAsync(listIitem)"/>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
		</div>
	</div>
</div>
